<div class="framework-topbar">
    <div class="console-topbar hidden-xs">
        <div class="topbar-wrap topbar-clearfix">
            <div class="topbar-head topbar-left">
                <a href="{:url('@admin')}" class="topbar-logo topbar-left">
                    <span class="icon-logo">{:sysconf('app_name')}</span>
                </a>
            </div>
            {volist name='menus' id='pmenu'}
            {empty name='pmenu.sub'}
            <a data-menu-node='m-{$pmenu.id}' data-open="{$pmenu.url}"
               class="topbar-home-link topbar-btn topbar-left">
                <span>{notempty name='$pmenu.icon'}<i class="{$pmenu.icon}"></i>{/notempty} {$pmenu.title}</span>
            </a>
            {else}
            <a data-menu-target='m-{$pmenu.id}' class="topbar-home-link topbar-btn topbar-left">
                <span>{notempty name='$pmenu.icon'}<i class="{$pmenu.icon}"></i>{/notempty} {$pmenu.title}</span>
            </a>
            {/empty}
            {/volist}


            <div class="topbar-info topbar-right">
                <a data-reload data-tips-text='刷新'
                   class=" topbar-btn topbar-left topbar-info-item text-center"
                   style='width:50px;'>
                    <span class='glyphicon glyphicon-refresh'></span>
                </a>
                <script>
                    require(['jquery'], function () {
                        $('[data-reload]').hover(function () {
                            $(this).find('.glyphicon').addClass('fa-spin');
                        }, function () {
                            $(this).find('.glyphicon').removeClass('fa-spin');
                        });
                    });
                </script>
                <div class="topbar-left topbar-user">
                    <div class="dropdown topbar-info-item">
                        <a href="#" class="dropdown-toggle topbar-btn text-center" data-toggle="dropdown">
                            <span class='glyphicon glyphicon-user'></span> {:session('user.username')} </span>
                            <span class="glyphicon glyphicon-menu-up transition" style="font-size:12px"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="topbar-info-btn">
                                <a data-modal="{:url('admin/index/pass')}?id={:session('user.id')}">
                                    <span><i class='glyphicon glyphicon-lock'></i> 修改密码</span>
                                </a>
                            </li>
                            <li class="topbar-info-btn">
                                <a data-modal="{:url('admin/index/info')}?id={:session('user.id')}">
                                    <span><i class='glyphicon glyphicon-edit'></i> 修改资料</span>
                                </a>
                            </li>
                            <li class="topbar-info-btn">
                                <a data-load="{:url('admin/login/out')}" data-confirm='确定要退出登录吗？'>
                                    <span><i class="glyphicon glyphicon-log-out"></i> 退出登录</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="hidden-lg hidden-md">
        <div data-reload data-tips-text='刷新'
             class="r-button">
            <span class='glyphicon glyphicon-refresh'></span>
        </div>
        <div class="t-button closed">
            <span class="glyphicon glyphicon-menu-down transition"></span>
        </div>
        <ul class="h5-menu fadeInDown closed">
            {volist name='menus' id='pmenu'}
            {empty name='pmenu.sub'}
            <li data-menu-node='m-{$pmenu.id}' data-open="{$pmenu.url}"
                class="">
                <span>{$pmenu.title}</span>
            </li>
            {else}
            <li data-menu-target='m-{$pmenu.id}' class="">
                <span>{$pmenu.title}</span>
            </li>
            {/empty}
            {/volist}
            <li class="topbar-info-btn" data-load="{:url('admin/login/out')}" data-confirm='确定要退出登录吗？' style="border-top: 1px solid #ddd">
                <span>退出登录</span>
            </li>
        </ul>
    </div>
</div>